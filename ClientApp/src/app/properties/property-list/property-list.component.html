<style>
	body { margin: 0; padding: 0; }
	#myModalInfo {  width: 100%; height:80% ; }
  #myModalInfo { margin: 10; padding: 10;}
</style>
 

<hr/>
<app-filter (filterChanged)="filterData($event)"></app-filter>
<hr/>

<table class="table table-hover table-striped">
    <thead>
      <tr>
        <th scope="col" sortable="Price" (sort)="onSort($event)">Precio</th>
        <th scope="col" sortable="Description" (sort)="onSort($event)">Descripci&oacute;n</th>
        <th scope="col" sortable="Direction" (sort)="onSort($event)">Direcci&oacute;n</th>
        <th scope="col" sortable="Size" (sort)="onSort($event)">Tama&ntilde;o</th>
        <th scope="col" sortable="Bedrooms" (sort)="onSort($event)">Cantidad de cuartos</th>
        <th scope="col" sortable="Bathrooms" (sort)="onSort($event)">Cantidad de ba&ntilde;os</th>
        <th scope="col" sortable="Latitude" (sort)="onSort($event)">Latitud</th>
        <th scope="col" sortable="Longitude" (sort)="onSort($event)">Longitud</th>
        <th scope="col" sortable="State" (sort)="onSort($event)">Estado</th>
        <th scope="col" sortable="Category" (sort)="onSort($event)">Categoria</th>
        <th scope="col" sortable="TypeProperty" (sort)="onSort($event)">Tipo de propiedad</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let property of service.list">
        <td (click)="populateForm(property)">{{property.Price}}</td>
        <td (click)="populateForm(property)">{{property.Description}}</td>
        <td (click)="populateForm(property)">{{property.Direction}}</td>
        <td (click)="populateForm(property)">{{property.Size}}</td>
        <td (click)="populateForm(property)">{{property.Bedrooms}}</td>
        <td (click)="populateForm(property)">{{property.Bathrooms}}</td>
        <td (click)="populateForm(property)">{{property.Latitude}}</td>
        <td (click)="populateForm(property)">{{property.Longitude}}</td>
        <td (click)="populateForm(property)">{{property.State}}</td>
        <td (click)="populateForm(property)">{{property.Category}}</td>
        <td (click)="populateForm(property)">{{property.TypeProperty}}</td>
        <td>        
          <i class="fas fa-images" title="Agregar imagen" (click)="mostrarModalInfo(property.Id)"></i>  
          <i [routerLink]="['/propiedad/', property.Id]" class="fas fa-edit text-success"></i>
          <i class="far fa-trash-alt fa-lg text-danger" (click)="onDelete(property.Id)"></i>
        </td>
      </tr>
    </tbody>
    <tfoot >
      <tr>
          <td colspan="11">
              <app-pager [totalRows]="service.totalRows"
                         [itemsPerPage]="10"
                         [allowToChangePageSize]="true" 
                         (pageChanged)="pageChanged($event)"
                         (pageSizeChanged)="pageSizeChanged($event)"></app-pager>
          </td>
      </tr>
    </tfoot>
  </table>


  <ng-template #myModalInfo let-modal>

    <div class="modal-content" id="Mymodal">
      <div class="modal-header">
        <h5 class="modal-title">Agregue una imagen</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="modal.close()"> 
            <span aria-hidden="true">&times;</span>
          </button>
      </div>
      <hr />
      <div class="modal-body">
        <div class="thumbnails" id="mostrar_videos">
        </div>
        Seleccione una imagen de su dispositivo
        <hr/>
        <div *ngFor="let imagen of service.listGaleria">
          <img [src]="'data:image/jpg;base64,'+imagen.imagen64" width="400" height="300"/>

        </div>
        <img  [src]="url" width="400" height="300">
        
        
        <br />
        <input (change)="picked($event,1)"  type="file">
      </div>

      <div class="text-center">
        <button class="btn btn-success" (click)="savedImage()">Guardar</button>
      </div>
    </div>
  
  </ng-template><ng-template #myModalInfo let-modal>

  